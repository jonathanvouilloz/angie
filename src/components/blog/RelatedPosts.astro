---
import type { CollectionEntry } from 'astro:content';
import PostCard from './PostCard.astro';

interface Props {
  posts: CollectionEntry<'blog'>[];
}

const { posts } = Astro.props;
---

{posts.length > 0 && (
  <section class="px-4 py-16 border-t-2 border-black bg-[var(--main-bg)]">
    <div class="max-w-5xl mx-auto">
      <!-- Section header -->
      <div class="mb-10 text-center">
        <h2 class="text-3xl md:text-4xl font-normal mb-2">Articles similaires</h2>
        <p class="text-gray-600">Continuez votre lecture</p>
      </div>

      <!-- Posts grid -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        {posts.map(post => (
          <PostCard post={post} />
        ))}
      </div>

      <!-- Link to blog -->
      <div class="text-center mt-10">
        <a
          href="/blog/"
          class="inline-flex items-center gap-2 px-6 py-3 bg-[var(--blue)] border-2 border-black font-medium shadow-[3px_3px_0px_rgba(0,0,0,1)] hover:bg-[var(--yellow)] hover:shadow-[1px_1px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] transition-all"
        >
          <span>Tous les articles</span>
          <i class="ri-arrow-right-line"></i>
        </a>
      </div>
    </div>
  </section>
)}
