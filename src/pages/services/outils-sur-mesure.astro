---
import '../../styles/global.css';
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import FAQ from '../../components/FAQ.astro';

// Import background components
import BackgroundGlitchGrid from '../../components/backgrounds/BackgroundGlitchGrid.astro';
import BackgroundProgressFlow from '../../components/backgrounds/BackgroundProgressFlow.astro';
import BackgroundQuestionMarks from '../../components/backgrounds/BackgroundQuestionMarks.astro';
import BackgroundMapContours from '../../components/backgrounds/BackgroundMapContours.astro';

// Import hero image
import dashboardScreen from '../../assets/services/dashboard-custom-screen.webp';

// Schema.org
import { serviceSchemas, SITE_URL } from '../../data/schema';
import { getBreadcrumbSchema } from '../../lib/seo';

// SEO Data
const seoData = {
    title: "Outils sur mesure à Genève | Applications métier | Jon Labs",
    description: "Développement d'applications et dashboards sur mesure pour PME et indépendants. Sortez d'Excel, centralisez vos données. Prototype en 2 semaines."
};

// Schema.org data
const breadcrumb = getBreadcrumbSchema([
    { name: "Accueil", url: SITE_URL },
    { name: "Services", url: `${SITE_URL}/services` },
    { name: "Outils sur mesure", url: `${SITE_URL}/services/outils-sur-mesure` }
]);
const schemas = [serviceSchemas["outils-sur-mesure"], breadcrumb];

// Pain points data (4 items) - Format conversationnel
const painPoints = [
    {
        icon: "ri-file-excel-2-line",
        quote: "Mon fichier Excel de gestion est devenu un monstre que moi seul comprend...",
        description: "Formules cassées, données incohérentes, impossible à partager avec l'équipe. Ça fait le job mais c'est devenu ingérable."
    },
    {
        icon: "ri-links-line",
        quote: "J'utilise 4 outils différents qui ne se parlent pas, et je ressaisis tout à la main.",
        description: "CRM d'un côté, facturation de l'autre, planning ailleurs. Vous passez votre temps à copier-coller entre les apps."
    },
    {
        icon: "ri-function-line",
        quote: "Le logiciel qu'on m'a vendu fait 200 trucs dont 190 qui ne me servent à rien.",
        description: "Et bien sûr, LA fonction dont vous avez vraiment besoin n'existe pas. Ou elle coûte le double en 'module premium'."
    },
    {
        icon: "ri-settings-4-line",
        quote: "J'ai un process métier spécifique, aucun outil du marché ne correspond vraiment.",
        description: "Votre façon de travailler est unique. Les solutions génériques vous forcent à vous adapter à elles, pas l'inverse."
    }
];

// Methodology steps (5 étapes)
const methodSteps = [
    {
        step: "1",
        title: "Diagnostic",
        description: "On analyse ensemble ton process actuel. Où tu perds du temps ? Qu'est-ce qui coince ? Qu'est-ce qui manque ? Pas de jargon technique, juste des questions concrètes.",
        duration: "1-2h d'échange"
    },
    {
        step: "2",
        title: "Prototype",
        description: "Je construis une première version fonctionnelle — pas un PowerPoint, un vrai outil que tu peux tester. Tu vois concrètement ce que ça donne.",
        duration: "1-2 semaines"
    },
    {
        step: "3",
        title: "Itération",
        description: "Tu testes, tu me dis ce qui marche et ce qui manque. On ajuste. L'outil se construit avec toi, pas dans un coin sans feedback.",
        duration: "Cycles courts"
    },
    {
        step: "4",
        title: "Déploiement",
        description: "Mise en production, formation rapide, documentation. Tu es autonome pour utiliser l'outil au quotidien.",
        duration: "1-2 jours"
    },
    {
        step: "5",
        title: "Évolution",
        description: "Ton business évolue ? L'outil aussi. On peut ajouter des fonctionnalités au fil du temps, sans tout refaire.",
        duration: "Selon besoins"
    }
];

// Differentiators (encart)
const differentiators = [
    {
        icon: "ri-timer-flash-line",
        title: "Pas de tunnel de 6 mois",
        description: "prototype fonctionnel en 1-2 semaines"
    },
    {
        icon: "ri-lock-unlock-line",
        title: "Tu restes propriétaire",
        description: "ton code, tes données, hébergées où tu veux"
    },
    {
        icon: "ri-file-text-line",
        title: "Pas de dépendance",
        description: "documentation complète, évolutif même sans moi"
    },
    {
        icon: "ri-shield-check-line",
        title: "Pensé pour durer",
        description: "stack moderne et maintenable"
    }
];

// Results (6 items)
const results = [
    {
        icon: "ri-global-line",
        title: "Une application web accessible partout",
        benefit: "Plus de fichier Excel coincé sur un seul ordi"
    },
    {
        icon: "ri-user-smile-line",
        title: "Interface pensée pour toi (et ton équipe)",
        benefit: "Pas besoin de formation de 3 jours, c'est intuitif"
    },
    {
        icon: "ri-database-2-line",
        title: "Données centralisées et sécurisées",
        benefit: "Fini les versions contradictoires et les fichiers perdus"
    },
    {
        icon: "ri-robot-line",
        title: "Automatisations intégrées si pertinent",
        benefit: "Les tâches répétitives se font sans toi"
    },
    {
        icon: "ri-expand-diagonal-line",
        title: "Évolutif selon tes besoins",
        benefit: "L'outil grandit avec ton activité"
    },
    {
        icon: "ri-book-open-line",
        title: "Documentation + formation incluses",
        benefit: "Tu es autonome dès le jour 1"
    }
];

// Tech stack
const techStack = [
    {
        name: "React / Next.js",
        description: "Interfaces modernes, rapides, agréables à utiliser",
        icon: "ri-reactjs-line"
    },
    {
        name: "Supabase",
        description: "Base de données robuste, auth intégrée, temps réel si besoin",
        icon: "ri-database-2-line"
    },
    {
        name: "Tailwind CSS",
        description: "Design sur mesure, pas de template générique",
        icon: "ri-palette-line"
    },
    {
        name: "Vercel",
        description: "Hébergement fiable, déploiement automatique",
        icon: "ri-cloud-line"
    }
];

// Pricing tiers
const pricingTiers = [
    {
        name: "Dashboard simple",
        price: "1'000",
        priceLabel: "À partir de",
        description: "Tableau de bord pour visualiser et gérer vos données essentielles",
        highlighted: false
    },
    {
        name: "Application métier",
        price: "2'500",
        priceLabel: "À partir de",
        description: "Outil complet avec workflow, automatisations et multi-utilisateurs",
        highlighted: true
    },
    {
        name: "Projet complexe",
        price: "Sur devis",
        priceLabel: "",
        description: "Solution sur mesure pour besoins spécifiques ou intégrations multiples",
        highlighted: false
    }
];

// Pricing factors
const pricingFactors = [
    "Complexité des fonctionnalités",
    "Nombre d'utilisateurs prévus",
    "Intégrations avec d'autres outils",
    "Niveau de personnalisation de l'interface"
];

// FAQs (6 questions)
const faqs = [
    {
        question: "C'est quoi la différence avec un logiciel SaaS du marché ?",
        answer: "Un SaaS, tu t'adaptes à lui. Un outil sur mesure, c'est lui qui s'adapte à toi. Pas de fonctionnalités inutiles, pas de compromis sur ce dont tu as vraiment besoin."
    },
    {
        question: "Et si j'ai déjà des outils en place ?",
        answer: "On peut créer des ponts. Ton outil sur mesure peut se connecter à ton CRM, ta compta, tes fichiers existants. L'objectif c'est de simplifier, pas de tout casser."
    },
    {
        question: "Combien de temps pour avoir quelque chose de fonctionnel ?",
        answer: "Un premier prototype testable en 1-2 semaines. La version complète dépend de la complexité, mais on avance par itérations — tu ne restes jamais des mois sans rien voir."
    },
    {
        question: "Qu'est-ce qui se passe si tu n'es plus disponible dans 2 ans ?",
        answer: "Ton code t'appartient. Je documente tout. Tu peux le faire évoluer avec n'importe quel développeur compétent. Pas de dépendance forcée."
    },
    {
        question: "J'ai une idée mais je ne sais pas si c'est faisable techniquement...",
        answer: "C'est exactement pour ça qu'on commence par un échange. Je te dis ce qui est réaliste, ce qui ne l'est pas, et comment aborder le projet intelligemment.",
        linkText: "Découvre comment valider une idée avant de construire",
        linkUrl: "/blog/valide-idee-business-suisse"
    },
    {
        question: "Je ne suis pas technique, c'est un problème ?",
        answer: "Pas du tout. La plupart de mes clients ne le sont pas. Mon job c'est de traduire ton besoin métier en solution technique — pas de t'assommer de jargon."
    }
];

// Local advantages
const localAdvantages = [
    {
        icon: "ri-time-line",
        title: "Même fuseau horaire",
        description: "Réactivité garantie, réponse dans la journée"
    },
    {
        icon: "ri-shield-user-line",
        title: "Contexte suisse",
        description: "Compréhension de la nLPD, spécificités légales, multilinguisme"
    },
    {
        icon: "ri-server-line",
        title: "Hébergement local possible",
        description: "Tes données en Suisse si tes contraintes l'exigent"
    },
    {
        icon: "ri-team-line",
        title: "Réseau local",
        description: "Si ton projet nécessite d'autres compétences, je connais des gens de confiance"
    }
];

// Project type options for form
const projectTypes = [
    { value: "dashboard", label: "Dashboard / Tableau de bord" },
    { value: "app-metier", label: "Application métier" },
    { value: "automatisation", label: "Automatisation de process" },
    { value: "autre", label: "Autre / Je ne sais pas" }
];

// Budget options for form
const budgetOptions = [
    { value: "2500-5000", label: "2'500 - 5'000 CHF" },
    { value: "5000-10000", label: "5'000 - 10'000 CHF" },
    { value: "plus-10000", label: "> 10'000 CHF" },
    { value: "ne-sait-pas", label: "Je ne sais pas encore" }
];
---

<Layout
    title={seoData.title}
    description={seoData.description}
    schemas={schemas}
>
    <Header />

    <!-- ============================================== -->
    <!-- HERO SECTION - Layout centré -->
    <!-- ============================================== -->
    <section class="hero-section -mt-[120px] pt-[150px] pb-16 md:pt-[160px] md:pb-20 px-4 relative overflow-hidden">
        <!-- Gradient mesh background -->
        <div class="absolute inset-0 pointer-events-none" aria-hidden="true">
            <div class="absolute top-0 -left-20 w-[500px] h-[500px] bg-[var(--blue)] opacity-15 blur-[120px] rounded-full"></div>
            <div class="absolute top-1/3 -right-20 w-[400px] h-[400px] bg-[var(--violet)] opacity-10 blur-[100px] rounded-full"></div>
        </div>

        <div class="max-w-4xl mx-auto relative z-10">
            <!-- Text content - Centré -->
            <div class="text-center">
                <!-- H1 SEO discret -->
                <h1 class="seo-h1 mb-6 mt-8 justify-center">
                    Développement d'applications et outils métier sur mesure à Genève
                </h1>

                <!-- Main title -->
                <p class="text-3xl md:text-4xl lg:text-5xl font-normal tracking-tight mb-6" data-animate="fade-up">
                    Ton métier est unique.<br/>
                    Ton outil devrait l'être <span class="border-b-4 border-[var(--blue)]">aussi</span>.
                </p>

                <!-- Description -->
                <p class="text-lg md:text-xl text-gray-600 mb-8 leading-relaxed max-w-2xl mx-auto" data-animate="fade-up" data-delay="0.1">
                    Excel atteint ses limites, les logiciels du marché ne collent pas à ton process, et bricoler entre 5 apps différentes te fait perdre du temps.
                    <strong class="text-[var(--text)]">Je crée des dashboards et outils métier pensés pour ta façon de travailler</strong> — pas l'inverse.
                </p>

                <!-- CTAs - Sur une ligne -->
                <div class="flex flex-wrap gap-4 justify-center mb-12" data-animate="fade-up" data-delay="0.2">
                    <a
                        href="#contact"
                        class="
                            bg-[var(--blue)]
                            border-2 border-black
                            px-6 py-3
                            text-base font-medium
                            shadow-[4px_4px_0px_rgba(0,0,0,1)]
                            transition-all duration-200
                            hover:bg-[var(--yellow)]
                            hover:shadow-[2px_2px_0px_rgba(0,0,0,1)]
                            hover:translate-x-[2px] hover:translate-y-[2px]
                            inline-flex items-center gap-2
                        "
                    >
                        <i class="ri-chat-3-line"></i>
                        Discuter de mon projet
                    </a>
                    <a
                        href="#resultats"
                        class="
                            bg-white
                            border-2 border-black
                            px-6 py-3
                            text-base font-medium
                            transition-all duration-200
                            hover:bg-gray-100
                            inline-flex items-center gap-2
                        "
                    >
                        Voir des exemples
                        <i class="ri-arrow-down-line"></i>
                    </a>
                </div>
            </div>

            <!-- Screenshot Dashboard réel -->
            <div class="relative max-w-3xl mx-auto" data-animate="scale" data-delay="0.3">
                <div class="relative">
                    <!-- Image du dashboard -->
                    <div class="border-3 border-black shadow-[8px_8px_0px_rgba(0,0,0,1)] overflow-hidden bg-white">
                        <img
                            src={dashboardScreen.src}
                            alt="Exemple de dashboard sur mesure - gestion de club sportif avec membres, cotisations et inscriptions"
                            class="w-full h-auto"
                            loading="eager"
                        />
                    </div>

                    <!-- Decorative elements -->
                    <div class="absolute -top-3 -right-3 md:-top-4 md:-right-4 bg-[var(--yellow)] border-2 border-black px-3 py-1.5 shadow-[3px_3px_0px_rgba(0,0,0,1)] rotate-6 z-10">
                        <span class="font-mono text-sm font-bold">Sur mesure</span>
                    </div>
                    <div class="absolute -bottom-3 -left-3 md:-bottom-4 md:-left-4 bg-white border-2 border-black px-3 py-1.5 shadow-[3px_3px_0px_rgba(0,0,0,1)] -rotate-3 z-10">
                        <span class="text-xs text-gray-500">Prototype en</span>
                        <span class="font-bold text-sm block">1-2 sem.</span>
                    </div>
                </div>
            </div>

            <!-- Location badge centered -->
            <div class="flex items-center justify-center gap-2 text-sm text-gray-500 mt-10">
                <i class="ri-map-pin-fill text-[var(--blue)]"></i>
                <span>Basé à Genève | Service en Suisse romande</span>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- PAIN POINTS SECTION - Chaos / Glitch -->
    <!-- ============================================== -->
    <section id="problemes" class="py-20 md:py-28 px-4 bg-white border-y-2 border-black relative overflow-hidden">
        <BackgroundGlitchGrid color="rgba(239, 68, 68, 0.5)" opacity={0.12} />
        <div class="max-w-5xl mx-auto relative z-10">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    problèmes
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal mb-4">
                    <span class="relative inline-block">
                        <span class="absolute bg-red-200 w-full h-[40%] left-0 bottom-1 -z-1"></span>
                        Tu te reconnais ?
                    </span>
                </h2>
                <p class="text-lg text-gray-600">Ces situations reviennent souvent chez les PME et indépendants que j'accompagne.</p>
            </div>

            <!-- Pain points grid - Format conversationnel avec guillemets -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-12" data-animate-stagger>
                {painPoints.map((point) => (
                    <div class="pain-card bg-[var(--main-bg)] border-2 border-black p-6 relative transition-all duration-200 hover:-translate-y-1 hover:shadow-[4px_4px_0px_rgba(0,0,0,0.2)]" data-animate-item>
                        <!-- Icon + Quote -->
                        <div class="flex items-start gap-4 mb-4">
                            <div class="w-10 h-10 bg-red-100 border-2 border-red-300 flex items-center justify-center flex-shrink-0">
                                <i class={`${point.icon} text-red-500 text-xl`}></i>
                            </div>
                            <p class="text-lg font-medium italic text-gray-800">"{point.quote}"</p>
                        </div>
                        <p class="text-gray-600 text-sm leading-relaxed pl-14">{point.description}</p>
                    </div>
                ))}
            </div>

            <!-- Transition callout -->
            <div class="bg-[var(--blue)] bg-opacity-10 border-2 border-[var(--blue)] p-6 md:p-8 text-center" data-animate="fade-up">
                <p class="text-lg md:text-xl font-medium">
                    <i class="ri-lightbulb-line text-[var(--blue)] mr-2"></i>
                    <strong>Le problème n'est pas que tu es difficile.</strong> C'est que ton métier a des spécificités que les logiciels généralistes ignorent. La solution ? Un outil conçu autour de <strong>TON</strong> fonctionnement.
                </p>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- METHODOLOGY SECTION - Progress Flow -->
    <!-- ============================================== -->
    <section id="methode" class="py-20 md:py-28 px-4 relative overflow-hidden">
        <BackgroundProgressFlow colorStart="var(--blue)" colorEnd="var(--violet)" opacity={0.15} />
        <div class="max-w-5xl mx-auto relative z-10">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    méthode
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal mb-4">
                    Comment ça se passe ?
                </h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    On part de ton besoin réel, pas d'un cahier des charges fictif. Tu vois un <strong class="text-[var(--blue)]">prototype fonctionnel en 1-2 semaines</strong>, pas dans 6 mois.
                </p>
            </div>

            <!-- Method steps - Timeline alternée avec animation -->
            <div class="relative" id="method-timeline">
                <!-- Ligne verticale centrale (desktop) -->
                <div class="hidden md:block absolute left-1/2 top-0 bottom-0 w-0.5 bg-[var(--blue)] opacity-30 -translate-x-1/2"></div>

                <div class="space-y-8 md:space-y-12">
                    {methodSteps.map((step, index) => (
                        <div class={`method-card flex flex-col md:flex-row gap-6 items-center opacity-0 translate-y-4 ${index % 2 === 1 ? 'md:flex-row-reverse' : ''}`} style={`transition-delay: ${index * 150}ms`}>
                            <!-- Card -->
                            <div class="w-full md:w-[calc(50%-1.5rem)] bg-white border-2 border-black p-6 shadow-[4px_4px_0px_rgba(0,0,0,0.15)]">
                                <div class="flex items-center gap-3 mb-4">
                                    <span class="w-10 h-10 bg-[var(--blue)] border-2 border-black flex items-center justify-center font-mono font-bold text-sm">
                                        0{index + 1}
                                    </span>
                                    <h3 class="text-xl font-bold">{step.title}</h3>
                                </div>
                                <p class="text-gray-600 text-sm leading-relaxed mb-4">{step.description}</p>
                                <div class="flex items-center gap-2 text-sm pt-3 border-t border-dashed border-gray-300">
                                    <i class="ri-time-line text-[var(--blue)]"></i>
                                    <span class="text-gray-500">{step.duration}</span>
                                </div>
                            </div>

                            <!-- Point sur la ligne (desktop) -->
                            <div class="hidden md:flex w-4 h-4 bg-[var(--blue)] border-2 border-black rounded-full z-10 flex-shrink-0"></div>

                            <!-- Espace vide pour layout alterné -->
                            <div class="hidden md:block w-[calc(50%-1.5rem)]"></div>
                        </div>
                    ))}
                </div>
            </div>

            <!-- Differentiators box -->
            <div class="mt-16 bg-white border-3 border-black p-6 md:p-8 shadow-[6px_6px_0px_rgba(0,0,0,1)] relative" data-animate="fade-up">
                <!-- Corner boxes -->
                <div class="absolute -top-1.5 -left-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>
                <div class="absolute -top-1.5 -right-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>
                <div class="absolute -bottom-1.5 -left-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>
                <div class="absolute -bottom-1.5 -right-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>

                <h3 class="text-xl font-bold text-center mb-6">Ce qui change avec Jon Labs</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    {differentiators.map((diff) => (
                        <div class="text-center">
                            <div class="w-12 h-12 bg-[var(--blue)] border-2 border-black mx-auto mb-3 flex items-center justify-center">
                                <i class={`${diff.icon} text-xl`}></i>
                            </div>
                            <h4 class="font-bold mb-1">{diff.title}</h4>
                            <p class="text-sm text-gray-600">{diff.description}</p>
                        </div>
                    ))}
                </div>
            </div>

            <!-- Link to automatisation -->
            <div class="text-center mt-8">
                <p class="text-gray-500 text-sm">
                    Si ton besoin c'est surtout de connecter des outils existants, <a href="/services/automatisation" class="text-[var(--blue)] font-medium hover:underline">découvre mes services d'automatisation</a>.
                </p>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- RESULTS SECTION -->
    <!-- ============================================== -->
    <section id="resultats" class="py-20 md:py-28 px-4 bg-white border-y-2 border-black relative overflow-hidden">
        <div class="max-w-5xl mx-auto relative z-10">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    résultats
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal">
                    Ce que tu obtiens
                </h2>
            </div>

            <!-- Results grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-12" data-animate-stagger>
                {results.map((result) => (
                    <div class="result-card bg-[var(--main-bg)] border-2 border-black p-6 relative transition-all duration-200 hover:-translate-y-1 hover:shadow-[4px_4px_0px_rgba(0,0,0,0.2)]" data-animate-item>
                        <!-- Green check icon -->
                        <div class="w-10 h-10 bg-green-100 border-2 border-green-400 flex items-center justify-center mb-4">
                            <i class={`${result.icon} text-green-600 text-xl`}></i>
                        </div>
                        <h3 class="text-lg font-bold mb-2">{result.title}</h3>
                        <p class="text-gray-600 text-sm leading-relaxed flex items-start gap-2">
                            <i class="ri-arrow-right-line text-[var(--blue)] mt-0.5 flex-shrink-0"></i>
                            {result.benefit}
                        </p>
                    </div>
                ))}
            </div>

            <!-- Case study - Dashboard club sportif -->
            <div class="bg-[var(--blue)] bg-opacity-10 border-2 border-[var(--blue)] p-6 md:p-8" data-animate="fade-up">
                <div class="flex flex-col md:flex-row gap-6 items-start">
                    <div class="w-16 h-16 bg-[var(--blue)] border-2 border-black flex items-center justify-center flex-shrink-0">
                        <i class="ri-trophy-line text-2xl"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold mb-3">Exemple concret : Dashboard pour club sportif</h3>
                        <p class="text-gray-700 leading-relaxed mb-4">
                            Un club gérait ses membres, cotisations et présences sur 3 fichiers Excel qui ne se parlaient pas. J'ai créé un dashboard centralisé : vue d'ensemble des membres, suivi des paiements en temps réel, historique des présences. <strong>Le comité a récupéré plusieurs heures par mois</strong> — et surtout, n'importe qui peut reprendre la gestion sans formation.
                        </p>
                        <a href="/blog/automatisation-club-sportif" class="inline-flex items-center gap-2 text-[var(--blue)] font-medium hover:underline">
                            <i class="ri-article-line"></i>
                            Lire l'article complet
                            <i class="ri-arrow-right-line"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- TECHNOLOGY SECTION -->
    <!-- ============================================== -->
    <section id="technologie" class="py-20 md:py-28 px-4 relative overflow-hidden">
        <div class="max-w-5xl mx-auto relative z-10">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    sous le capot
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal mb-4">
                    Technologie moderne
                </h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Je choisis la technologie en fonction de <strong>TON</strong> projet, pas de mes préférences. Mais voici ce avec quoi je travaille le plus souvent :
                </p>
            </div>

            <!-- Tech cards -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 mb-12" data-animate-stagger="scale">
                {techStack.map((tech) => (
                    <div class="tech-card bg-white border-2 border-black p-4 md:p-6 text-center transition-all duration-200 hover:shadow-[4px_4px_0px_rgba(0,0,0,0.2)] hover:-translate-y-1" data-animate-item>
                        <i class={`${tech.icon} text-3xl text-[var(--blue)] mb-3 block`}></i>
                        <h3 class="text-sm md:text-base font-bold mb-2">{tech.name}</h3>
                        <p class="text-xs text-gray-600 hidden md:block">{tech.description}</p>
                    </div>
                ))}
            </div>

            <!-- Reassurance note -->
            <div class="bg-white border-2 border-black p-6 text-center" data-animate="fade-up">
                <p class="text-gray-600">
                    <i class="ri-information-line text-[var(--blue)] mr-2"></i>
                    <strong>Pas besoin de comprendre ces termes.</strong> Ce qui compte pour toi : c'est moderne, c'est maintenable, et tes données restent les tiennes.
                </p>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- PRICING SECTION - Fond neutre -->
    <!-- ============================================== -->
    <section id="prix" class="py-20 md:py-28 px-4 bg-white border-y-2 border-black">
        <div class="max-w-5xl mx-auto">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    investissement
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal mb-4">
                    Investissement
                </h2>
                <p class="text-lg text-gray-600">Chaque projet est différent. Voici des ordres de grandeur pour te donner une idée.</p>
            </div>

            <!-- Pricing tiers -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 mb-12" data-animate-stagger>
                {pricingTiers.map((tier) => (
                    <div class={`
                        pricing-card bg-[var(--main-bg)] border-3 border-black p-6 md:p-8 relative
                        ${tier.highlighted ? 'shadow-[8px_8px_0px_rgba(0,0,0,1)] ring-2 ring-[var(--blue)]' : 'shadow-[4px_4px_0px_rgba(0,0,0,0.3)]'}
                    `} data-animate-item>
                        {tier.highlighted && (
                            <div class="absolute -top-3 left-1/2 -translate-x-1/2 bg-[var(--blue)] border-2 border-black px-3 py-1 text-xs font-bold">
                                COURANT
                            </div>
                        )}

                        <h3 class="text-xl font-bold mb-4">{tier.name}</h3>

                        <div class="mb-4">
                            {tier.priceLabel && (
                                <span class="text-sm text-gray-500">{tier.priceLabel}</span>
                            )}
                            <p class="text-3xl font-bold text-[var(--text)]">
                                {tier.price}
                                {tier.priceLabel && <span class="text-lg"> CHF</span>}
                            </p>
                        </div>

                        <p class="text-sm text-gray-600">{tier.description}</p>
                    </div>
                ))}
            </div>

            <!-- Pricing factors -->
            <div class="bg-white border-2 border-black p-6 md:p-8" data-animate="fade-up">
                <h3 class="font-bold mb-4 flex items-center gap-2">
                    <i class="ri-information-line text-[var(--blue)]"></i>
                    Ce qui influence le budget :
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600 mb-6">
                    {pricingFactors.map((factor) => (
                        <div class="flex items-center gap-2">
                            <i class="ri-arrow-right-s-line text-[var(--blue)]"></i>
                            {factor}
                        </div>
                    ))}
                </div>
                <p class="text-sm text-gray-500 bg-gray-50 p-3 border-l-4 border-[var(--blue)]">
                    <strong>Premier échange gratuit</strong> pour cadrer le besoin et te donner une estimation précise.
                </p>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- FAQ SECTION -->
    <!-- ============================================== -->
    <FAQ faqs={faqs} sectionId="faq">
        <BackgroundQuestionMarks slot="background" animated={true} />
    </FAQ>

    <!-- ============================================== -->
    <!-- LOCAL SEO SECTION -->
    <!-- ============================================== -->
    <section id="local" class="py-20 md:py-28 px-4 bg-white border-y-2 border-black relative overflow-hidden">
        <BackgroundMapContours opacity={0.1} />
        <div class="max-w-5xl mx-auto relative z-10">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    local
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal">
                    Basé à <span class="text-[var(--blue)]">Genève</span>,<br/>
                    disponible en Suisse romande
                </h2>
            </div>

            <!-- Advantages grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6" data-animate-stagger>
                {localAdvantages.map((adv) => (
                    <div class="flex flex-col items-center text-center p-6 bg-[var(--main-bg)] border-2 border-black transition-all duration-200 hover:-translate-y-1 hover:shadow-[4px_4px_0px_rgba(0,0,0,0.2)]" data-animate-item>
                        <div class="w-12 h-12 bg-[var(--blue)] border-2 border-black flex items-center justify-center mb-4">
                            <i class={`${adv.icon} text-xl`}></i>
                        </div>
                        <h3 class="font-bold mb-2">{adv.title}</h3>
                        <p class="text-sm text-gray-600">{adv.description}</p>
                    </div>
                ))}
            </div>

            <p class="text-center mt-8 text-sm text-gray-500">
                <i class="ri-information-line mr-1"></i>
                Je travaille principalement à distance, mais je peux me déplacer pour les phases de diagnostic et de formation.
            </p>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- CTA + FORM SECTION -->
    <!-- ============================================== -->
    <section id="contact" class="py-20 md:py-28 px-4 bg-[var(--main-bg)] relative overflow-hidden">
        <!-- Dot pattern background -->
        <div class="absolute inset-0 dots-bg opacity-[0.4]"></div>

        <div class="max-w-4xl mx-auto relative z-10">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <h2 class="text-3xl md:text-4xl font-normal mb-4 text-[var(--text)]">
                    Tu as un process qui mériterait son propre outil ?
                </h2>
                <p class="text-lg text-gray-600">
                    Premier échange gratuit et sans engagement. On regarde ensemble si un outil sur mesure est la bonne réponse — ou si une solution plus simple existe.
                </p>
            </div>

            <!-- Contact Form -->
            <div class="contact-form-container" data-animate="scale">
                <form
                    class="bg-white text-[var(--text)] border-3 border-black p-6 md:p-8 shadow-[8px_8px_0px_rgba(0,217,163,0.3)] relative"
                    id="outils-form"
                >
                    <!-- Corner boxes -->
                    <div class="absolute -top-1.5 -left-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>
                    <div class="absolute -top-1.5 -right-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>
                    <div class="absolute -bottom-1.5 -left-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>
                    <div class="absolute -bottom-1.5 -right-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>

                    <h3 class="text-xl font-bold mb-6 text-center">Parlons de ton projet</h3>

                    <!-- Hidden fields for Web3Forms -->
                    <input type="hidden" name="access_key" value="2964b7b3-2e2d-454b-a792-967518d5788b">
                    <input type="hidden" name="subject" value="Demande outil sur mesure - Jon Labs">
                    <input type="hidden" name="from_name" value="Jon Labs - Outils sur mesure">
                    <input type="checkbox" name="botcheck" class="hidden" style="display: none;">

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Nom -->
                        <div class="form-field">
                            <label for="name" class="flex items-center gap-2 text-sm font-medium mb-2">
                                <span class="font-mono text-xs text-gray-400">01</span>
                                Nom / Prénom <span class="text-red-500">*</span>
                            </label>
                            <input
                                type="text"
                                id="name"
                                name="name"
                                required
                                placeholder="Jean Dupont"
                                class="w-full px-4 py-3 border-2 border-black bg-white text-lg placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-[var(--blue)] focus:ring-offset-2 transition-all"
                            />
                        </div>

                        <!-- Email -->
                        <div class="form-field">
                            <label for="email" class="flex items-center gap-2 text-sm font-medium mb-2">
                                <span class="font-mono text-xs text-gray-400">02</span>
                                Email <span class="text-red-500">*</span>
                            </label>
                            <input
                                type="email"
                                id="email"
                                name="email"
                                required
                                placeholder="vous@exemple.ch"
                                class="w-full px-4 py-3 border-2 border-black bg-white text-lg placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-[var(--blue)] focus:ring-offset-2 transition-all"
                            />
                        </div>

                        <!-- Téléphone -->
                        <div class="form-field">
                            <label for="phone" class="flex items-center gap-2 text-sm font-medium mb-2">
                                <span class="font-mono text-xs text-gray-400">03</span>
                                Téléphone (optionnel)
                            </label>
                            <input
                                type="tel"
                                id="phone"
                                name="phone"
                                placeholder="+41 79 123 45 67"
                                class="w-full px-4 py-3 border-2 border-black bg-white text-lg placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-[var(--blue)] focus:ring-offset-2 transition-all"
                            />
                        </div>

                        <!-- Type de projet -->
                        <div class="form-field">
                            <label for="project-type" class="flex items-center gap-2 text-sm font-medium mb-2">
                                <span class="font-mono text-xs text-gray-400">04</span>
                                Type de projet <span class="text-red-500">*</span>
                            </label>
                            <select
                                id="project-type"
                                name="project_type"
                                required
                                class="w-full px-4 py-3 border-2 border-black bg-white text-lg focus:outline-none focus:ring-2 focus:ring-[var(--blue)] focus:ring-offset-2 transition-all cursor-pointer"
                            >
                                <option value="" disabled selected>Choisir...</option>
                                {projectTypes.map((type) => (
                                    <option value={type.value}>{type.label}</option>
                                ))}
                            </select>
                        </div>

                        <!-- Description du besoin -->
                        <div class="form-field md:col-span-2">
                            <label for="message" class="flex items-center gap-2 text-sm font-medium mb-2">
                                <span class="font-mono text-xs text-gray-400">05</span>
                                Décris ton besoin <span class="text-red-500">*</span>
                            </label>
                            <textarea
                                id="message"
                                name="message"
                                rows="4"
                                required
                                placeholder="Quel problème veux-tu résoudre ? Quels outils utilises-tu actuellement ? Qu'est-ce qui ne fonctionne pas ?"
                                class="w-full px-4 py-3 border-2 border-black bg-white text-lg placeholder:text-gray-400 resize-none focus:outline-none focus:ring-2 focus:ring-[var(--blue)] focus:ring-offset-2 transition-all"
                            ></textarea>
                        </div>

                        <!-- Budget -->
                        <div class="form-field">
                            <label for="budget" class="flex items-center gap-2 text-sm font-medium mb-2">
                                <span class="font-mono text-xs text-gray-400">06</span>
                                Budget approximatif
                            </label>
                            <select
                                id="budget"
                                name="budget"
                                class="w-full px-4 py-3 border-2 border-black bg-white text-lg focus:outline-none focus:ring-2 focus:ring-[var(--blue)] focus:ring-offset-2 transition-all cursor-pointer"
                            >
                                <option value="" disabled selected>Choisir...</option>
                                {budgetOptions.map((option) => (
                                    <option value={option.value}>{option.label}</option>
                                ))}
                            </select>
                        </div>

                        <!-- Source -->
                        <div class="form-field">
                            <label for="source" class="flex items-center gap-2 text-sm font-medium mb-2">
                                <span class="font-mono text-xs text-gray-400">07</span>
                                Comment m'as-tu trouvé ? (optionnel)
                            </label>
                            <input
                                type="text"
                                id="source"
                                name="source"
                                placeholder="Google, recommandation, LinkedIn..."
                                class="w-full px-4 py-3 border-2 border-black bg-white text-lg placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-[var(--blue)] focus:ring-offset-2 transition-all"
                            />
                        </div>

                        <!-- Consent -->
                        <div class="form-field md:col-span-2">
                            <label class="flex items-start gap-3 cursor-pointer group">
                                <input
                                    type="checkbox"
                                    name="consent"
                                    required
                                    class="mt-1 w-5 h-5 border-2 border-black appearance-none cursor-pointer checked:bg-[var(--blue)] checked:border-black relative transition-all"
                                />
                                <span class="text-sm text-gray-600 group-hover:text-black transition-colors">
                                    Tes données sont utilisées uniquement pour répondre à ta demande. Pas de spam, promis. <span class="text-red-500">*</span>
                                </span>
                            </label>
                        </div>

                        <!-- Submit -->
                        <div class="md:col-span-2 pt-4">
                            <button
                                type="submit"
                                class="
                                    submit-btn
                                    w-full
                                    bg-[var(--blue)]
                                    border-2 border-black
                                    px-8 py-4
                                    text-lg font-bold
                                    shadow-[4px_4px_0px_rgba(0,0,0,1)]
                                    transition-all duration-200
                                    hover:bg-[var(--yellow)]
                                    hover:shadow-[2px_2px_0px_rgba(0,0,0,1)]
                                    hover:translate-x-[2px] hover:translate-y-[2px]
                                    focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2
                                    flex items-center justify-center gap-3
                                "
                            >
                                <span>Envoyer ma demande</span>
                                <i class="ri-send-plane-line text-xl"></i>
                            </button>
                        </div>
                    </div>
                </form>

                <!-- Post-form content wrapper -->
                <div class="bg-[var(--main-bg)]/90 backdrop-blur-sm p-6 mt-8">
                    <!-- Trust indicators -->
                    <div class="flex flex-wrap justify-center gap-6 text-sm text-gray-600">
                        <span class="flex items-center gap-2">
                            <i class="ri-time-line text-[var(--blue)]"></i>
                            Réponse sous 24h
                        </span>
                        <span class="flex items-center gap-2">
                            <i class="ri-gift-line text-[var(--blue)]"></i>
                            Premier échange gratuit
                        </span>
                        <span class="flex items-center gap-2">
                            <i class="ri-file-list-3-line text-[var(--blue)]"></i>
                            Devis clair et détaillé
                        </span>
                    </div>

                    <!-- Alternatives -->
                    <div class="text-center mt-8 space-y-4">
                        <p class="text-gray-500 text-sm">Tu préfères réserver un créneau directement ?</p>
                        <a
                            href="https://cal.com/jonlabs"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="inline-flex items-center gap-2 text-[var(--blue)] font-medium hover:underline"
                        >
                            <i class="ri-calendar-line"></i>
                            Prendre rendez-vous sur Cal.com
                        </a>
                    </div>

                    <!-- Direct contact -->
                    <div class="text-center mt-6">
                        <p class="text-gray-500 text-sm mb-2">Besoin d'une réponse rapide ?</p>
                        <a href="mailto:contact@jonlabs.ch" class="text-[var(--blue)] font-mono hover:underline">
                            contact@jonlabs.ch
                        </a>
                    </div>

                    <!-- Not ready yet -->
                    <div class="text-center mt-8 p-4 bg-white border-2 border-dashed border-gray-300">
                        <p class="text-gray-500 text-sm">
                            <strong>Pas encore prêt ?</strong> Découvre <a href="/blog/automatisation-club-sportif" class="text-[var(--blue)] hover:underline">comment j'ai aidé des clubs sportifs à sortir de l'enfer Excel</a>.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <Footer />
</Layout>

<style>
    /* Dot pattern background */
    .dots-bg {
        background-image: radial-gradient(circle, #000 1px, transparent 1px);
        background-size: 24px 24px;
    }

    /* H1 SEO style terminal */
    .seo-h1 {
        font-family: 'JetBrains Mono', 'Space Grotesk', monospace;
        font-size: 0.75rem;
        font-weight: 400;
        color: rgba(15, 15, 15, 0.5);
        letter-spacing: 0.05em;
        display: flex;
        align-items: center;
    }

    /* Custom checkbox checkmark */
    input[type="checkbox"]:checked::after {
        content: '';
        position: absolute;
        left: 5px;
        top: 1px;
        width: 6px;
        height: 12px;
        border: solid black;
        border-width: 0 2px 2px 0;
        transform: rotate(45deg);
    }

    /* Submit button loading state */
    .submit-btn.loading {
        pointer-events: none;
        opacity: 0.7;
    }

    .submit-btn.loading i {
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    /* Scroll margin for anchor navigation */
    section[id] {
        scroll-margin-top: 100px;
    }

    /* Method cards animation */
    .method-card {
        transition: opacity 0.5s ease-out, transform 0.5s ease-out;
    }

    .method-card.visible {
        opacity: 1;
        transform: translateY(0);
    }
</style>

<script>
    // Form submission
    const form = document.getElementById('outils-form') as HTMLFormElement;
    const submitBtn = form?.querySelector('.submit-btn') as HTMLButtonElement;
    const btnText = submitBtn?.querySelector('span');
    const btnIcon = submitBtn?.querySelector('i');

    form?.addEventListener('submit', async (e) => {
        e.preventDefault();

        // Loading state
        if (submitBtn) {
            submitBtn.classList.add('loading');
            submitBtn.disabled = true;
            if (btnText) btnText.textContent = 'Envoi en cours...';
            if (btnIcon) btnIcon.className = 'ri-loader-4-line text-xl animate-spin';
        }

        try {
            const formData = new FormData(form);
            const response = await fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                body: formData
            });

            const result = await response.json();

            if (result.success) {
                alert('Merci ! Ta demande a bien été envoyée. Je te réponds sous 24h.');
                form.reset();
            } else {
                alert('Erreur lors de l\'envoi. Réessaie ou écris-moi directement à contact@jonlabs.ch');
            }
        } catch (error) {
            alert('Erreur de connexion. Réessaie.');
        } finally {
            // Reset button
            if (submitBtn) {
                submitBtn.classList.remove('loading');
                submitBtn.disabled = false;
                if (btnText) btnText.textContent = 'Envoyer ma demande';
                if (btnIcon) btnIcon.className = 'ri-send-plane-line text-xl';
            }
        }
    });

    // Method cards scroll animation
    const methodCards = document.querySelectorAll('.method-card');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

    methodCards.forEach(card => observer.observe(card));
</script>
