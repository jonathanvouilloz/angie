---
import '../../styles/global.css';
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';

// Import background components
import BackgroundGlitchGrid from '../../components/backgrounds/BackgroundGlitchGrid.astro';
import BackgroundProgressFlow from '../../components/backgrounds/BackgroundProgressFlow.astro';
import BackgroundCircuitBoard from '../../components/backgrounds/BackgroundCircuitBoard.astro';
import BackgroundQuestionMarks from '../../components/backgrounds/BackgroundQuestionMarks.astro';
import BackgroundMapContours from '../../components/backgrounds/BackgroundMapContours.astro';

// Import images
import heroImage from '../../assets/services/automatisation-hero.png';
import methodeImage from '../../assets/services/automatisation-methode.png';
import workflowImage from '../../assets/services/automatisation-workflow.png';

// Schema.org
import { serviceSchemas, SITE_URL } from '../../data/schema';
import { getBreadcrumbSchema } from '../../lib/seo';

// SEO Data
const seoData = {
    title: "Automatisation de tâches pour PME | Jon Labs Genève",
    description: "Récupérez 5-10h/semaine sur vos tâches répétitives. Relances automatiques, rapports générés, zéro ressaisie. Devis sur mesure pour PME en Suisse romande."
};

// Schema.org data
const breadcrumb = getBreadcrumbSchema([
    { name: "Accueil", url: SITE_URL },
    { name: "Services", url: `${SITE_URL}/services/` },
    { name: "Automatisation", url: `${SITE_URL}/services/automatisation/` }
]);
const schemas = [serviceSchemas["automatisation"], breadcrumb];

// Pain points (4 items)
const painPoints = [
    {
        icon: "ri-mail-send-line",
        title: "\"Je passe mes lundis matins à envoyer les mêmes relances\"",
        description: "Le client n'a pas payé à 30 jours. Vous ouvrez Bexio, vous cherchez la facture, vous rédigez l'email de relance, vous l'envoyez. Puis vous faites pareil pour les 12 autres retards. Deux heures plus tard, vous n'avez toujours pas commencé votre vraie journée.",
        extra: "Et la semaine prochaine ? Rebelote."
    },
    {
        icon: "ri-file-copy-2-line",
        title: "\"Je recopie les mêmes infos partout\"",
        description: "Un prospect vous contacte. Vous notez ses infos dans votre CRM. Puis vous les recopiez dans l'email de réponse. Puis dans le devis. Puis dans la facture quand il signe. Quatre fois la même saisie, quatre fois le risque de faute de frappe.",
        extra: "Et à la fin du mois, vous découvrez que \"Müller\" s'écrit différemment dans trois de vos outils."
    },
    {
        icon: "ri-bar-chart-box-line",
        title: "\"Je génère mes rapports à la main\"",
        description: "Chaque semaine ou chaque mois, c'est la même corvée. Ouvrir Excel, aller chercher les chiffres dans trois endroits différents, les compiler, les mettre en forme, les envoyer. Deux heures minimum.",
        extra: "Pour un tableau que personne ne lit vraiment."
    },
    {
        icon: "ri-alarm-warning-line",
        title: "\"J'oublie des trucs importants\"",
        description: "Un devis qui n'a pas été relancé. Un client qui devait recevoir un document. Une facture qui aurait dû partir il y a 10 jours. Ce n'est pas de la négligence — c'est juste qu'avec tout ce que vous avez en tête, des choses passent à la trappe.",
        extra: "Et à chaque oubli, c'est du chiffre d'affaires qui s'évapore."
    }
];

// Method steps (4 items)
const methodSteps = [
    {
        step: "1",
        title: "L'inventaire de votre temps perdu",
        description: "On passe en revue votre semaine type. Pas vos outils. Vos tâches. Qu'est-ce que vous faites le lundi matin ? Et le vendredi soir quand tout le monde est parti ? Qu'est-ce qui vous fait soupirer quand ça arrive dans votre to-do ?",
        duration: "45-60 minutes",
        goal: "Identifier les 2-3 tâches qui vous coûtent le plus de temps"
    },
    {
        step: "2",
        title: "Le design du workflow automatisé",
        description: "Je vous présente comment la tâche va se dérouler une fois automatisée. Pas un schéma technique incompréhensible — une explication simple : \"Quand X arrive, Y se passe automatiquement, et vous n'avez plus qu'à Z.\"",
        duration: "Quelques jours",
        goal: "Si pas rentable, je vous le dis"
    },
    {
        step: "3",
        title: "La mise en place",
        description: "Je configure l'automatisation de vos tâches. On la teste ensemble sur des cas réels. On ajuste si nécessaire. Une fois que ça tourne, vous validez et on passe en production.",
        duration: "1-2 semaines",
        goal: "Pendant ce temps, vous continuez à bosser normalement"
    },
    {
        step: "4",
        title: "Le transfert",
        description: "Vous comprenez ce qui se passe \"sous le capot\". Pas besoin de devenir technicien — mais vous savez où regarder si quelque chose semble ne pas fonctionner, et comment me contacter si besoin.",
        duration: "Inclus",
        goal: "Documentation claire + support 30 jours"
    }
];

// Results (6 items)
const results = [
    {
        icon: "ri-time-line",
        title: "5 à 10 heures par semaine en moins sur l'administratif",
        description: "Du temps que vous pouvez réinvestir dans votre cœur de métier, vos clients, ou votre vie perso"
    },
    {
        icon: "ri-mail-check-line",
        title: "Des relances de paiement qui partent toutes seules",
        description: "Fini les clients à J+45 parce que vous avez oublié de relancer à J+30. Le système s'en charge."
    },
    {
        icon: "ri-file-chart-line",
        title: "Des rapports générés et envoyés automatiquement",
        description: "Chaque lundi matin, le tableau de bord est dans votre boîte mail. Sans que vous ayez levé le petit doigt."
    },
    {
        icon: "ri-checkbox-circle-line",
        title: "Zéro erreur de ressaisie manuelle",
        description: "L'info est saisie une fois, elle se propage partout. Plus de \"Müller\" écrit de trois façons différentes."
    },
    {
        icon: "ri-mental-health-line",
        title: "Une charge mentale allégée",
        description: "Vous n'avez plus à vous souvenir de tout. Le système se souvient pour vous."
    },
    {
        icon: "ri-file-text-line",
        title: "Un système documenté et maintenable",
        description: "Pas de boîte noire. Vous comprenez ce qui se passe, et vous pouvez le faire évoluer."
    }
];

// Use cases (6 items)
const useCases = [
    {
        icon: "ri-money-euro-circle-line",
        title: "Relances de paiement automatiques",
        problem: "Vous détestez relancer vos clients pour de l'argent. C'est gênant, ça prend du temps, et parfois vous laissez traîner trop longtemps.",
        solution: [
            "J+7 après échéance → email de rappel courtois (automatique)",
            "J+15 → deuxième rappel avec le PDF de facture attaché (automatique)",
            "J+30 → notification à vous pour action manuelle (le cas nécessite une attention humaine)"
        ],
        result: "Vos factures sont relancées systématiquement. Vous n'intervenez que sur les cas problématiques. Et votre trésorerie respire.",
        featured: true
    },
    {
        icon: "ri-bar-chart-grouped-line",
        title: "Rapports hebdomadaires automatisés",
        problem: "Chaque semaine, vous passez 2 heures à compiler des chiffres depuis 3 sources différentes pour créer un tableau de suivi.",
        solution: ["Les données sont agrégées automatiquement depuis vos outils (Bexio, CRM, tableurs). Un rapport formaté est généré et envoyé dans votre boîte mail — ou celle de votre équipe — chaque lundi à 8h."],
        result: "Vous avez la visibilité sans le travail. Et vous pouvez enfin prendre des décisions basées sur des données à jour."
    },
    {
        icon: "ri-user-add-line",
        title: "Onboarding client automatisé",
        problem: "Chaque nouveau client, c'est la même séquence. Email de bienvenue, documents à envoyer, accès à créer, infos à saisir. Facile d'oublier une étape quand vous en avez 10 en parallèle.",
        solution: ["Le client signe → automatiquement : email de bienvenue personnalisé, création de la fiche dans votre CRM, envoi des documents d'accueil, notification à votre équipe, création de la tâche de suivi dans 2 semaines."],
        result: "Chaque client reçoit le même niveau de service. Sans que ça dépende de votre charge mentale du jour."
    },
    {
        icon: "ri-notification-3-line",
        title: "Notifications consolidées",
        problem: "Entre Slack, Teams, les emails, WhatsApp et les 5 autres apps, vous passez votre temps à checker des notifications. Et vous en ratez quand même.",
        solution: ["Les notifications importantes sont filtrées et consolidées dans un seul endroit (email digest quotidien, ou canal Slack dédié). Le bruit disparaît, le signal reste."],
        result: "Vous ne ratez plus ce qui compte. Et vous n'êtes plus interrompu par ce qui ne compte pas."
    },
    {
        icon: "ri-checkbox-multiple-line",
        title: "Processus de validation simplifiés",
        problem: "Pour valider un devis, un achat ou une absence, il faut envoyer un email, attendre la réponse, relancer si elle ne vient pas, puis mettre à jour le statut quelque part.",
        solution: ["Une demande est soumise → le validateur reçoit une notification avec un bouton \"Approuver\" / \"Refuser\" → sa réponse met à jour automatiquement le système → le demandeur est notifié."],
        result: "Les validations ne traînent plus. Les statuts sont toujours à jour. Et personne n'a besoin de relancer manuellement."
    },
    {
        icon: "ri-football-line",
        title: "Gestion de club sportif automatisée",
        problem: "Vous gérez un club sportif bénévolement. Entre les inscriptions, les cotisations impayées et les relances, vous passez plus de temps sur l'admin que sur le terrain.",
        solution: ["Inscription en ligne → paiement QR/TWINT → mise à jour automatique du fichier membres → relances automatiques pour les retardataires."],
        result: "Le trésorier récupère ses soirées. Les cotisations rentrent mieux. Et le club peut se concentrer sur le sport.",
        link: {
            text: "Lire l'article complet →",
            url: "/blog/pourquoi-excel-ne-suffit-plus-club-sportif"
        }
    }
];

// Tools
const tools = [
    {
        name: "Make (ex-Integromat)",
        description: "L'outil de référence pour créer des automatisations robustes. Hébergé en Europe, conforme RGPD/nLPD. Idéal pour les workflows complexes avec plusieurs étapes et conditions.",
        icon: "ri-flow-chart"
    },
    {
        name: "Zapier",
        description: "Plus simple, plus rapide à mettre en place pour les automatisations basiques. Parfait pour les cas \"si X arrive, faire Y\".",
        icon: "ri-flashlight-line"
    },
    {
        name: "Scripts personnalisés",
        description: "Quand les outils no-code ne suffisent pas, je développe des scripts sur mesure. Pour les calculs complexes, le traitement de données spécifiques, ou les cas qui sortent de l'ordinaire.",
        icon: "ri-code-s-slash-line"
    },
    {
        name: "Vos outils existants",
        description: "Bexio, Notion, Google Workspace, Microsoft 365, Slack, Trello, Asana, votre CRM, votre outil de facturation suisse... Je m'adapte à votre écosystème.",
        icon: "ri-apps-line"
    }
];

// Local sectors
const localSectors = [
    {
        icon: "ri-calculator-line",
        title: "Fiduciaires et comptables",
        description: "Automatisation des rappels de documents clients, génération automatique des récapitulatifs mensuels, notifications quand une pièce manque au dossier."
    },
    {
        icon: "ri-stethoscope-line",
        title: "Cabinets et praticiens",
        description: "Rappels de rendez-vous automatiques par SMS ou WhatsApp (réduction des no-shows), emails de suivi post-consultation, relances pour les factures ASCA/RME."
    },
    {
        icon: "ri-building-line",
        title: "PME genevoises",
        description: "Workflows de validation internes, rapports de suivi d'activité automatisés, onboarding automatisé des nouveaux collaborateurs ou clients."
    },
    {
        icon: "ri-tools-line",
        title: "Artisans et indépendants",
        description: "Relances de devis non signés, emails de suivi chantier automatiques, notifications quand un paiement arrive."
    },
    {
        icon: "ri-store-2-line",
        title: "Commerces locaux",
        description: "Automatisation de la récolte d'avis Google pour améliorer votre référencement local, suivi client post-achat, relances promotionnelles ciblées."
    }
];

// Pricing factors
const pricingFactors = [
    "Le nombre de tâches à automatiser",
    "La complexité des workflows",
    "Les outils impliqués",
    "Votre contexte métier"
];

// Pricing inclusions
const pricingInclusions = [
    "Diagnostic initial",
    "Configuration et tests complets",
    "Documentation du système",
    "Formation à l'utilisation",
    "Support 30 jours post-projet"
];

// FAQs (8 items)
const faqs = [
    {
        question: "C'est quoi la différence avec la \"connexion d'outils\" ?",
        answer: "La connexion d'outils fait circuler l'information automatiquement entre vos applications. L'automatisation de tâches va plus loin : elle déclenche des actions à votre place. L'email qui part, le rapport qui se génère, le rappel qui se crée. Souvent, on fait les deux ensemble — mais ce sont deux niveaux différents."
    },
    {
        question: "Ça va vraiment me faire gagner du temps ?",
        answer: "Si vous passez actuellement du temps sur des tâches répétitives et prévisibles, oui. L'automatisation est particulièrement efficace pour : les relances de paiement, les notifications, les rapports récurrents, les saisies répétitives. Si vos tâches sont très variables et nécessitent du jugement humain à chaque fois, l'automatisation sera plus limitée."
    },
    {
        question: "Je dois changer ma façon de travailler ?",
        answer: "Non. L'automatisation s'adapte à votre façon de travailler actuelle — pas l'inverse. Le but, c'est de supprimer les parties répétitives de vos tâches, pas de vous imposer un nouveau process."
    },
    {
        question: "C'est fiable ? Ça ne va pas buguer ?",
        answer: "Les automatisations sont testées avant mise en production. Elles incluent des mécanismes de détection d'erreur et de notification si quelque chose coince. Et le support est inclus pour corriger rapidement si nécessaire. Cela dit, aucun système n'est infaillible à 100% — mais c'est nettement plus fiable qu'un humain fatigué un vendredi soir."
    },
    {
        question: "Et si mes besoins changent ?",
        answer: "Les automatisations sont modulaires. On peut les ajuster, les compléter ou les désactiver selon l'évolution de votre activité. Rien n'est gravé dans le marbre."
    },
    {
        question: "Je n'y connais rien techniquement, c'est un problème ?",
        answer: "Pas du tout. Vous m'expliquez ce que vous faites manuellement aujourd'hui, et je m'occupe de le transformer en automatisation. La technique, c'est mon problème."
    },
    {
        question: "Combien de temps avant de voir des résultats ?",
        answer: "Dès que l'automatisation est en place. Si on automatise vos relances de paiement, la prochaine relance part toute seule. Pas de période d'adaptation — ça fonctionne immédiatement."
    },
    {
        question: "Et si ça ne correspond pas à mes attentes ?",
        answer: "On valide ensemble à chaque étape. Vous voyez le système fonctionner sur des cas réels avant qu'on considère le projet terminé. Et le support post-projet permet d'ajuster ce qui doit l'être."
    }
];

// Local zones
const zones = [
    { name: "Genève", type: "primary", icon: "ri-map-pin-fill" },
    { name: "Vaud", type: "secondary", icon: "ri-map-pin-line" },
    { name: "Valais", type: "secondary", icon: "ri-map-pin-line" },
    { name: "Neuchâtel", type: "secondary", icon: "ri-map-pin-line" },
    { name: "Fribourg", type: "secondary", icon: "ri-map-pin-line" },
    { name: "Toute Suisse romande", type: "tertiary", icon: "ri-global-line" }
];

// Project type options for form
const projectTypes = [
    { value: "relances-paiement", label: "Relances de paiement automatiques" },
    { value: "rapports-automatises", label: "Rapports automatisés" },
    { value: "onboarding-client", label: "Onboarding client" },
    { value: "processus-validation", label: "Processus de validation" },
    { value: "autre", label: "Autre / Je ne sais pas" }
];
---

<Layout
    title={seoData.title}
    description={seoData.description}
    schemas={schemas}
>
    <Header />

    <!-- ============================================== -->
    <!-- HERO SECTION -->
    <!-- ============================================== -->
    <section class="hero-section -mt-[120px] pt-[150px] pb-16 md:pt-[160px] md:pb-20 px-4 relative overflow-hidden">
        <!-- Gradient mesh background -->
        <div class="absolute inset-0 pointer-events-none" aria-hidden="true">
            <div class="absolute top-0 -left-20 w-[500px] h-[500px] bg-[var(--blue)] opacity-20 blur-[120px] rounded-full"></div>
            <div class="absolute top-1/3 -right-20 w-[400px] h-[400px] bg-[var(--violet)] opacity-15 blur-[100px] rounded-full"></div>
            <div class="absolute bottom-0 left-1/3 w-[300px] h-[300px] bg-[var(--blue)] opacity-10 blur-[80px] rounded-full"></div>
        </div>

        <div class="max-w-4xl mx-auto relative z-10">
            <!-- Text content centered -->
            <div class="text-center">
                <!-- H1 SEO discret -->
                <h1 class="seo-h1 mb-6 mt-8 text-center">Automatisation de tâches administratives à Genève et en Suisse romande</h1>

                <!-- Main title -->
                <p class="text-3xl md:text-4xl lg:text-5xl font-normal tracking-tight mb-6" data-animate="fade-up">
                    Vos journées ne devraient pas<br/>
                    <span class="relative inline-block">
                        <span class="absolute bg-[var(--accent)] w-full h-[40%] left-0 bottom-1 -z-1"></span>
                        <span class="relative z-10">ressembler à ça.</span>
                    </span>
                </p>

                <!-- Description -->
                <p class="text-lg md:text-xl text-gray-600 mb-8 leading-relaxed max-w-2xl mx-auto" data-animate="fade-up" data-delay="0.1">
                    Relancer les factures. Copier-coller des emails. Vérifier trois fois la même info. Vous passez des heures chaque semaine sur des tâches répétitives qui pourraient se faire toutes seules.<br class="hidden md:block"/>
                    <strong class="text-[var(--text)]">Pendant ce temps, votre vrai métier attend.</strong>
                </p>

                <!-- CTAs -->
                <div class="flex flex-col sm:flex-row gap-4 justify-center mb-12 md:mb-16" data-animate="fade-up" data-delay="0.2">
                    <a
                        href="#contact"
                        class="
                            bg-[var(--blue)]
                            border-2 border-black
                            px-6 py-4
                            text-lg font-medium
                            shadow-[4px_4px_0px_rgba(0,0,0,1)]
                            transition-all duration-200
                            hover:bg-[var(--yellow)]
                            hover:shadow-[2px_2px_0px_rgba(0,0,0,1)]
                            hover:translate-x-[2px] hover:translate-y-[2px]
                            flex items-center justify-center gap-2
                        "
                    >
                        <i class="ri-time-line"></i>
                        Récupérer mes heures
                    </a>
                    <a
                        href="#cas-usage"
                        class="
                            bg-white
                            border-2 border-black
                            px-6 py-4
                            text-lg font-medium
                            transition-all duration-200
                            hover:bg-gray-100
                            flex items-center justify-center gap-2
                        "
                    >
                        Voir ce qu'on peut automatiser
                        <i class="ri-arrow-down-line"></i>
                    </a>
                </div>
            </div>

            <!-- Hero illustration centered below -->
            <div class="max-w-2xl mx-auto" data-animate="scale" data-delay="0.3">
                <div class="bg-white border-3 border-black shadow-[8px_8px_0px_rgba(0,0,0,1)] p-4 relative">
                    <img
                        src={heroImage.src}
                        alt="Avant/après automatisation : d'une charge mentale écrasante à un quotidien libéré"
                        class="w-full h-auto"
                    />
                    <!-- Corner boxes -->
                    <div class="absolute -top-1.5 -left-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>
                    <div class="absolute -top-1.5 -right-1.5 w-3 h-3 bg-[var(--violet)] border-2 border-black"></div>
                    <div class="absolute -bottom-1.5 -left-1.5 w-3 h-3 bg-[var(--violet)] border-2 border-black"></div>
                    <div class="absolute -bottom-1.5 -right-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>
                </div>
            </div>

            <!-- Location badge -->
            <div class="flex items-center justify-center gap-2 text-sm text-gray-500 mt-12">
                <i class="ri-map-pin-fill text-[var(--blue)]"></i>
                <span>Basé à Genève | Service en Suisse romande</span>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- PAIN POINTS SECTION -->
    <!-- ============================================== -->
    <section id="problemes" class="py-20 md:py-28 px-4 relative overflow-hidden">
        <BackgroundGlitchGrid color="rgba(239, 68, 68, 0.5)" opacity={0.12} />
        <div class="max-w-5xl mx-auto relative z-10">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    problèmes
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal mb-4">
                    <span class="relative inline-block">
                        <span class="absolute bg-red-200 w-full h-[40%] left-0 bottom-1 -z-1"></span>
                        Combien d'heures par semaine vous perdez là-dessus ?
                    </span>
                </h2>
                <p class="text-lg text-gray-600">En moyenne, un entrepreneur suisse passe <strong>40% de son temps</strong> sur des tâches administratives répétitives. Faites le calcul.</p>
            </div>

            <!-- Pain points grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-12" data-animate-stagger>
                {painPoints.map((point) => (
                    <div class="pain-card bg-white border-2 border-black p-6 relative transition-all duration-200 hover:-translate-y-1 hover:shadow-[4px_4px_0px_rgba(0,0,0,0.2)]" data-animate-item>
                        <!-- Red X icon -->
                        <div class="w-10 h-10 bg-red-100 border-2 border-red-300 flex items-center justify-center mb-4">
                            <i class={`${point.icon} text-red-500 text-xl`}></i>
                        </div>
                        <h3 class="text-lg font-bold mb-2">{point.title}</h3>
                        <p class="text-gray-600 text-sm leading-relaxed mb-3">{point.description}</p>
                        <p class="text-sm text-gray-500 italic">{point.extra}</p>
                    </div>
                ))}
            </div>

            <!-- Stats callout -->
            <div class="bg-red-50 border-2 border-red-300 p-6 md:p-8 text-center" data-animate="fade-up">
                <p class="text-xl md:text-2xl font-medium text-red-800">
                    Ces tâches répétitives vous bouffent <span class="bg-red-200 px-2 py-1 font-bold">5 à 10 heures par semaine</span>.
                </p>
                <p class="text-lg text-red-700 mt-2">
                    Sur un an, ça fait 300 à 500 heures. Soit <strong>7 à 12 semaines de travail</strong> passées à faire des choses qu'une machine pourrait faire à votre place.
                </p>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- METHODOLOGY SECTION -->
    <!-- ============================================== -->
    <section id="methode" class="py-20 md:py-28 px-4 bg-white border-y-2 border-black relative overflow-hidden">
        <BackgroundProgressFlow />
        <div class="max-w-5xl mx-auto relative z-10">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    méthode
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal mb-4">
                    Comment on vous rend vos heures ?
                </h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    On identifie ce qui vous prend du temps, et on le fait disparaître de votre quotidien.
                </p>
            </div>

            <!-- Method illustration -->
            <div class="mb-12 max-w-3xl mx-auto" data-animate="fade-up">
                <div class="bg-[var(--main-bg)] border-2 border-black p-4 shadow-[4px_4px_0px_rgba(0,0,0,0.15)]">
                    <img
                        src={methodeImage.src}
                        alt="Les 4 étapes de mise en place d'une automatisation : audit, design, implémentation, transfert"
                        class="w-full h-auto"
                    />
                </div>
            </div>

            <!-- Method steps grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12" data-animate-stagger>
                {methodSteps.map((step, index) => (
                    <div class="bg-[var(--main-bg)] border-2 border-black p-6 shadow-[4px_4px_0px_rgba(0,0,0,0.15)] relative" data-animate-item>
                        <!-- Number badge -->
                        <div class="flex items-center gap-3 mb-4">
                            <span class="w-10 h-10 bg-[var(--blue)] border-2 border-black flex items-center justify-center font-mono font-bold text-sm">
                                0{index + 1}
                            </span>
                            <span class="text-sm font-mono text-gray-500">Étape {step.step}</span>
                        </div>
                        <h3 class="text-xl font-bold mb-3">{step.title}</h3>
                        <p class="text-gray-600 text-sm leading-relaxed mb-4">{step.description}</p>
                        <!-- Duration + Goal -->
                        <div class="flex flex-wrap gap-4 text-sm">
                            <span class="flex items-center gap-1 text-gray-500">
                                <i class="ri-time-line text-[var(--blue)]"></i>
                                {step.duration}
                            </span>
                            <span class="flex items-center gap-1 text-gray-500">
                                <i class="ri-target-line text-[var(--blue)]"></i>
                                {step.goal}
                            </span>
                        </div>
                    </div>
                ))}
            </div>

            <!-- Differentiator box -->
            <div class="bg-white border-3 border-black p-6 md:p-8 shadow-[6px_6px_0px_rgba(0,0,0,0.2)] relative" data-animate="fade-up">
                <!-- Corner decoration -->
                <div class="absolute -top-2 -left-2 w-4 h-4 bg-[var(--blue)] border-2 border-black"></div>
                <div class="absolute -top-2 -right-2 w-4 h-4 bg-[var(--blue)] border-2 border-black"></div>
                <div class="absolute -bottom-2 -left-2 w-4 h-4 bg-[var(--blue)] border-2 border-black"></div>
                <div class="absolute -bottom-2 -right-2 w-4 h-4 bg-[var(--blue)] border-2 border-black"></div>

                <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
                    <i class="ri-lightbulb-line text-[var(--blue)]"></i>
                    La différence avec la connexion d'outils
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <p class="text-sm font-bold text-gray-700 mb-2">Connecter des outils :</p>
                        <p class="text-gray-600 text-sm">Faire circuler l'information automatiquement. C'est utile — et c'est souvent la première étape.</p>
                    </div>
                    <div>
                        <p class="text-sm font-bold text-gray-700 mb-2">Automatiser des tâches :</p>
                        <p class="text-gray-600 text-sm">Déclencher des <strong>actions</strong> sans intervention humaine. L'email qui part tout seul. Le rapport qui se génère. Le rappel qui se crée automatiquement.</p>
                    </div>
                </div>
                <p class="mt-4 text-center text-sm text-gray-500">
                    La connexion fait circuler les données. L'automatisation <strong>agit à votre place</strong>.
                    <a href="/services/integration-outils/" class="text-[var(--blue)] hover:underline ml-2">
                        Découvrir le service de connexion d'outils →
                    </a>
                </p>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- RESULTS SECTION -->
    <!-- ============================================== -->
    <section id="resultats" class="py-20 md:py-28 px-4 relative overflow-hidden">
        <div class="max-w-5xl mx-auto relative z-10">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    résultats
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal mb-4">
                    Ce que vous récupérez concrètement
                </h2>
            </div>

            <!-- Results grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-12" data-animate-stagger>
                {results.map((result) => (
                    <div class="bg-white border-2 border-black p-5 transition-all duration-200 hover:-translate-y-1 hover:shadow-[4px_4px_0px_rgba(0,0,0,0.2)]" data-animate-item>
                        <div class="flex items-start gap-4">
                            <div class="w-8 h-8 bg-green-100 border-2 border-green-400 flex items-center justify-center flex-shrink-0">
                                <i class="ri-check-line text-green-600"></i>
                            </div>
                            <div>
                                <h3 class="font-bold mb-1">{result.title}</h3>
                                <p class="text-sm text-gray-600">{result.description}</p>
                            </div>
                        </div>
                    </div>
                ))}
            </div>

            <!-- Stats box -->
            <div class="bg-[var(--blue)] bg-opacity-10 border-2 border-[var(--blue)] p-6 md:p-8" data-animate="fade-up">
                <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
                    <i class="ri-bar-chart-2-line text-[var(--blue)]"></i>
                    Le coût réel des tâches manuelles
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white border-2 border-gray-200 p-4">
                        <p class="text-3xl font-bold text-[var(--text)] mb-2">100-150k CHF</p>
                        <p class="text-sm text-gray-600">Pertes annuelles en inefficacités opérationnelles pour une PME suisse de 500k CHF de CA <span class="text-gray-400">(source: IDC)</span></p>
                    </div>
                    <div class="bg-white border-2 border-gray-200 p-4">
                        <p class="text-3xl font-bold text-[var(--text)] mb-2">~8'000 CHF</p>
                        <p class="text-sm text-gray-600">Coût annuel par employé en temps perdu sur des tâches manuelles (85% des tâches admin encore manuelles)</p>
                    </div>
                </div>
                <p class="mt-4 text-center font-medium">
                    Une automatisation bien pensée se rentabilise en quelques semaines — parfois en quelques jours.
                </p>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- USE CASES SECTION -->
    <!-- ============================================== -->
    <section id="cas-usage" class="py-20 md:py-28 px-4 bg-white border-y-2 border-black">
        <div class="max-w-5xl mx-auto">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    cas d'usage
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal mb-4">
                    Ce qu'on automatise le plus souvent
                </h2>
                <p class="text-lg text-gray-600">Des exemples concrets d'automatisation de tâches, adaptés au marché suisse romand.</p>
            </div>

            <!-- Featured use case with illustration -->
            <div class="mb-12" data-animate="fade-up">
                <div class="bg-[var(--main-bg)] border-2 border-black overflow-hidden">
                    <!-- Header -->
                    <div class="bg-[var(--blue)] px-6 py-4 border-b-2 border-black">
                        <h3 class="text-xl font-bold flex items-center gap-3">
                            <i class="ri-money-euro-circle-line text-2xl"></i>
                            Relances de paiement automatiques
                        </h3>
                    </div>

                    <div class="p-6 md:p-8">
                        <!-- Illustration -->
                        <div class="mb-6 bg-white border-2 border-gray-200 p-4">
                            <img
                                src={workflowImage.src}
                                alt="Workflow automatisé de relance de paiement : emails automatiques à J+7 et J+15, notification manuelle à J+30"
                                class="w-full h-auto max-w-2xl mx-auto"
                            />
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <p class="text-sm font-bold text-gray-700 mb-2 flex items-center gap-2">
                                    <i class="ri-close-circle-line text-red-400"></i>
                                    Le problème
                                </p>
                                <p class="text-gray-600 text-sm">{useCases[0].problem}</p>
                            </div>
                            <div>
                                <p class="text-sm font-bold text-gray-700 mb-2 flex items-center gap-2">
                                    <i class="ri-check-line text-green-500"></i>
                                    Résultat
                                </p>
                                <p class="text-gray-600 text-sm">{useCases[0].result}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other use cases grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6" data-animate-stagger>
                {useCases.slice(1).map((useCase, index) => {
                    const remainingItems = useCases.slice(1);
                    const isLastOdd = index === remainingItems.length - 1 && remainingItems.length % 2 === 1;
                    return (
                        <div class={`bg-[var(--main-bg)] border-2 border-black p-6 h-full flex flex-col transition-all duration-200 hover:-translate-y-1 hover:shadow-[4px_4px_0px_rgba(0,0,0,0.2)] ${isLastOdd ? 'md:col-span-2 md:max-w-[calc(50%-12px)] md:mx-auto' : ''}`} data-animate-item>
                            <div class="w-12 h-12 bg-[var(--blue)] border-2 border-black flex items-center justify-center mb-4">
                                <i class={`${useCase.icon} text-xl`}></i>
                            </div>
                            <h3 class="text-lg font-bold mb-3">{useCase.title}</h3>
                            <p class="text-sm text-gray-500 mb-3">{useCase.problem}</p>
                            <div class="bg-white border border-gray-200 p-3 mb-3 flex-grow">
                                {useCase.solution.map((step) => (
                                    <p class="text-sm text-gray-700">{step}</p>
                                ))}
                            </div>
                            <p class="text-sm font-medium text-[var(--text)]">{useCase.result}</p>
                            {useCase.link && (
                                <a href={useCase.link.url} class="inline-flex items-center gap-1 text-sm text-[var(--blue)] font-medium mt-3 hover:underline">
                                    {useCase.link.text}
                                </a>
                            )}
                        </div>
                    );
                })}
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- TOOLS SECTION -->
    <!-- ============================================== -->
    <section id="outils" class="py-20 md:py-28 px-4 relative overflow-hidden">
        <BackgroundCircuitBoard animated={true} />
        <div class="max-w-5xl mx-auto relative z-10">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    outils
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal mb-4">
                    Les outils d'automatisation qu'on utilise
                </h2>
                <p class="text-lg text-gray-600">La technique est mon problème, pas le vôtre.</p>
            </div>

            <!-- Tools grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12" data-animate-stagger>
                {tools.map((tool) => (
                    <div class="bg-white border-2 border-black p-6 shadow-[4px_4px_0px_rgba(0,0,0,0.15)] transition-all duration-200 hover:-translate-y-1" data-animate-item>
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 bg-[var(--blue)] border-2 border-black flex items-center justify-center flex-shrink-0">
                                <i class={`${tool.icon} text-xl`}></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold mb-2">{tool.name}</h3>
                                <p class="text-gray-600 text-sm leading-relaxed">{tool.description}</p>
                            </div>
                        </div>
                    </div>
                ))}
            </div>

            <!-- Note -->
            <div class="bg-gray-50 border-l-4 border-[var(--blue)] p-4 text-sm text-gray-600" data-animate="fade-up">
                <p>
                    <i class="ri-information-line mr-1 text-[var(--blue)]"></i>
                    <strong>Note :</strong> Je ne pousse pas un outil plutôt qu'un autre. Le choix dépend de votre contexte : complexité du workflow, outils déjà en place, budget, facilité de maintenance future. L'objectif, c'est que ça fonctionne pour vous sur le long terme.
                </p>
                <p class="mt-2">
                    Si vous avez besoin que vos outils communiquent mieux entre eux, c'est aussi possible — <a href="/services/integration-outils/" class="text-[var(--blue)] hover:underline">découvrir le service de connexion d'outils</a>.
                </p>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- LOCAL SECTION (SUISSE ROMANDE) -->
    <!-- ============================================== -->
    <section id="local" class="py-20 md:py-28 px-4 bg-white border-y-2 border-black relative overflow-hidden">
        <BackgroundMapContours />
        <div class="max-w-5xl mx-auto relative z-10">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    local
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal mb-4">
                    Automatisation pour PME et indépendants<br/>
                    <span class="text-[var(--blue)]">en Suisse romande</span>
                </h2>
                <p class="text-lg text-gray-600">Des solutions adaptées au contexte local genevois et romand.</p>
            </div>

            <!-- Why local matters -->
            <div class="bg-[var(--main-bg)] border-2 border-black p-6 md:p-8 mb-12" data-animate="fade-up">
                <h3 class="text-xl font-bold mb-4">Pourquoi ça compte d'être basé ici</h3>
                <p class="text-gray-600 mb-4">
                    La Suisse a ses spécificités. La facturation QR obligatoire. Les particularités de Bexio et des outils locaux. La conformité nLPD. Les attentes culturelles en matière de communication client.
                </p>
                <p class="text-gray-600">
                    Je connais ce contexte parce que j'y travaille tous les jours. Les automatisations que je mets en place tiennent compte de ces réalités — pas besoin de m'expliquer ce qu'est un BVR ou pourquoi TWINT c'est important.
                </p>
            </div>

            <!-- Sectors grid -->
            <div class="mb-12">
                <h3 class="text-xl font-bold mb-6 text-center">Exemples d'automatisation par secteur</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4" data-animate-stagger>
                    {localSectors.map((sector, index) => (
                        <div class={`bg-white border-2 border-black p-5 transition-all duration-200 hover:-translate-y-1 hover:shadow-[4px_4px_0px_rgba(0,0,0,0.2)] ${index === localSectors.length - 1 && localSectors.length % 3 === 2 ? 'lg:col-start-2' : ''} ${index === localSectors.length - 1 && localSectors.length % 2 === 1 ? 'sm:col-span-2 lg:col-span-1' : ''}`} data-animate-item>
                            <div class="w-10 h-10 bg-[var(--blue)] border-2 border-black flex items-center justify-center mb-3">
                                <i class={`${sector.icon} text-lg`}></i>
                            </div>
                            <h4 class="font-bold mb-2">{sector.title}</h4>
                            <p class="text-sm text-gray-600">{sector.description}</p>
                        </div>
                    ))}
                </div>
            </div>

            <!-- ROI calculation + Zones -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
                <!-- ROI -->
                <div class="bg-[var(--blue)] bg-opacity-10 border-2 border-[var(--blue)] p-6" data-animate="fade-right">
                    <h3 class="text-xl font-bold mb-4">Le gain de temps, traduit en francs suisses</h3>
                    <div class="bg-white border-2 border-gray-200 p-4 mb-4">
                        <p class="text-2xl font-bold text-[var(--text)]">150 CHF/h × 5h/sem = <span class="text-[var(--blue)]">750 CHF/sem</span></p>
                        <p class="text-lg font-bold text-[var(--text)] mt-2">Sur un an : <span class="text-[var(--blue)]">~40'000 CHF</span></p>
                    </div>
                    <p class="text-sm text-gray-600">
                        Même si vous ne facturez pas ces heures, c'est du temps que vous pouvez investir dans le développement de votre activité, vos clients existants, ou simplement votre qualité de vie.
                    </p>
                </div>

                <!-- Zones -->
                <div data-animate="fade-left">
                    <h3 class="text-xl font-bold mb-4">Zones couvertes</h3>
                    <div class="space-y-2">
                        {zones.map((zone) => (
                            <div class={`
                                flex items-center gap-3 p-3 border-2 border-black
                                ${zone.type === 'primary' ? 'bg-[var(--blue)] border-[var(--blue)]' : 'bg-white'}
                            `}>
                                <i class={`${zone.icon} text-lg ${zone.type === 'primary' ? 'text-white' : 'text-gray-600'}`}></i>
                                <span class={`${zone.type === 'primary' ? 'font-bold text-white' : ''}`}>
                                    {zone.name}
                                    {zone.type === 'primary' && <span class="text-sm font-normal text-white/70 ml-2">(basé sur place)</span>}
                                    {zone.type === 'tertiary' && <span class="text-sm font-normal text-gray-500 ml-2">(remote)</span>}
                                </span>
                            </div>
                        ))}
                    </div>
                    <p class="mt-4 text-sm text-gray-500">
                        On peut se voir pour un café si ça aide à clarifier le projet. Mais 90% du travail se fait à distance, sans friction.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- PRICING SECTION -->
    <!-- ============================================== -->
    <section id="prix" class="py-20 md:py-28 px-4 relative overflow-hidden">
        <div class="max-w-4xl mx-auto">
            <!-- Section header -->
            <div class="text-center mb-12 md:mb-16" data-animate="fade-up">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    investissement
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal mb-4">
                    Investissement
                </h2>
                <p class="text-lg text-gray-600">Chaque besoin est différent. Le devis aussi.</p>
            </div>

            <!-- Pricing approach -->
            <div class="bg-[var(--main-bg)] border-2 border-black p-6 md:p-8 mb-8" data-animate="fade-up">
                <h3 class="font-bold mb-4">Mon approche :</h3>
                <p class="text-gray-600 mb-6">
                    Pas de grille tarifaire rigide. Chaque situation est unique : le nombre de tâches à automatiser, la complexité des workflows, les outils impliqués, votre contexte métier.
                </p>
                <div class="space-y-3">
                    <p class="flex items-center gap-3">
                        <span class="w-8 h-8 bg-[var(--blue)] border-2 border-black flex items-center justify-center font-bold text-sm">1</span>
                        <span><strong>On en parle</strong> — Un premier échange pour comprendre votre quotidien</span>
                    </p>
                    <p class="flex items-center gap-3">
                        <span class="w-8 h-8 bg-[var(--blue)] border-2 border-black flex items-center justify-center font-bold text-sm">2</span>
                        <span><strong>Je comprends votre besoin</strong> — Questions concrètes sur vos tâches répétitives</span>
                    </p>
                    <p class="flex items-center gap-3">
                        <span class="w-8 h-8 bg-[var(--blue)] border-2 border-black flex items-center justify-center font-bold text-sm">3</span>
                        <span><strong>Je vous propose un devis sur mesure</strong> — Adapté à votre réalité</span>
                    </p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                <!-- What's included -->
                <div class="bg-white border-2 border-black p-6" data-animate="fade-right">
                    <h3 class="font-bold mb-4 flex items-center gap-2">
                        <i class="ri-checkbox-circle-line text-[var(--blue)]"></i>
                        Ce qui est toujours inclus :
                    </h3>
                    <ul class="space-y-3">
                        {pricingInclusions.map((inc) => (
                            <li class="flex items-center gap-2">
                                <i class="ri-check-line text-green-600"></i>
                                <span>{inc}</span>
                            </li>
                        ))}
                    </ul>
                </div>

                <!-- Delays -->
                <div class="bg-white border-2 border-black p-6" data-animate="fade-left">
                    <h3 class="font-bold mb-4 flex items-center gap-2">
                        <i class="ri-time-line text-[var(--blue)]"></i>
                        Délais indicatifs :
                    </h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <span>Automatisation simple</span>
                            <span class="font-bold text-[var(--blue)]">3-5 jours</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span>Projet plus complexe</span>
                            <span class="font-bold text-[var(--blue)]">1-3 semaines</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CTA -->
            <div class="text-center" data-animate="fade-up">
                <a
                    href="#contact"
                    class="
                        inline-flex items-center gap-2
                        bg-[var(--blue)]
                        border-2 border-black
                        px-8 py-4
                        text-lg font-bold
                        shadow-[4px_4px_0px_rgba(0,0,0,1)]
                        transition-all duration-200
                        hover:bg-[var(--yellow)]
                        hover:shadow-[2px_2px_0px_rgba(0,0,0,1)]
                        hover:translate-x-[2px] hover:translate-y-[2px]
                    "
                >
                    <i class="ri-calculator-line"></i>
                    Demander un devis personnalisé
                </a>
                <p class="mt-4 text-sm text-gray-500">
                    Premier échange gratuit et sans engagement. On calcule ensemble combien d'heures vous perdez actuellement sur des tâches répétitives, et si une automatisation peut les récupérer. Si le ROI n'est pas là, je vous le dis.
                </p>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- FAQ SECTION -->
    <!-- ============================================== -->
    <section id="faq" class="py-20 md:py-28 px-4 bg-white border-y-2 border-black relative overflow-hidden">
        <BackgroundQuestionMarks animated={true} />
        <div class="max-w-3xl mx-auto relative z-10">
            <!-- Section header -->
            <div class="text-center mb-12">
                <span class="inline-flex items-center gap-2 text-xs font-mono uppercase tracking-[0.2em] text-gray-500 mb-4">
                    <span class="w-8 h-px bg-gray-400"></span>
                    faq
                    <span class="w-8 h-px bg-gray-400"></span>
                </span>
                <h2 class="text-3xl md:text-4xl font-normal">Questions fréquentes sur l'automatisation de tâches</h2>
            </div>

            <!-- FAQ items -->
            <div class="faq-list space-y-4">
                {faqs.map((faq, index) => (
                    <div class="faq-item border-2 border-black bg-[var(--main-bg)]" data-faq-item>
                        <button
                            class="
                                faq-trigger
                                w-full
                                flex items-center justify-between gap-4
                                p-5
                                text-left
                                font-medium
                                cursor-pointer
                                transition-colors duration-200
                                hover:bg-[var(--blue)] hover:bg-opacity-10
                            "
                            aria-expanded="false"
                            data-faq-trigger
                        >
                            <span class="flex items-start gap-3">
                                <span class="font-mono text-sm text-gray-400 mt-0.5">{String(index + 1).padStart(2, '0')}</span>
                                <span class="text-lg">{faq.question}</span>
                            </span>
                            <span class="
                                faq-icon
                                w-8 h-8
                                border-2 border-black
                                bg-white
                                flex items-center justify-center
                                transition-transform duration-300
                                flex-shrink-0
                            ">
                                <i class="ri-add-line text-lg"></i>
                            </span>
                        </button>
                        <div
                            class="faq-content overflow-hidden transition-all duration-300"
                            style="max-height: 0;"
                            data-faq-content
                        >
                            <div class="p-6 pt-2 pl-12">
                                <p class="text-gray-600 leading-relaxed">
                                    {faq.answer}
                                </p>
                            </div>
                        </div>
                    </div>
                ))}
            </div>

            <!-- Extra question note -->
            <div class="text-center mt-8">
                <p class="text-gray-500">
                    Autre question ? <a href="#contact" class="text-[var(--blue)] font-medium hover:underline">Contactez-moi directement</a>
                </p>
            </div>
        </div>
    </section>

    <!-- ============================================== -->
    <!-- CTA + FORM SECTION -->
    <!-- ============================================== -->
    <section id="contact" class="py-20 md:py-28 px-4 bg-[var(--main-bg)] relative overflow-hidden">
        <!-- Dot pattern background -->
        <div class="absolute inset-0 dots-bg opacity-[0.4]"></div>

        <div class="max-w-5xl mx-auto relative z-10">
            <!-- Header -->
            <div class="text-center mb-12" data-animate="fade-up">
                <h2 class="text-3xl md:text-4xl font-normal mb-4 text-[var(--text)]">
                    Récupérez vos heures perdues
                </h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Chaque semaine, vous passez entre 5 et 10 heures sur des tâches répétitives qu'une machine pourrait faire à votre place. Ce temps, vous pourriez le passer sur votre métier, vos clients, ou simplement rentrer plus tôt chez vous.
                </p>
            </div>

            <!-- Contact Form -->
            <div class="contact-form-container max-w-2xl mx-auto" data-animate="scale">
                <form
                    class="bg-white text-[var(--text)] border-3 border-black p-6 md:p-8 shadow-[8px_8px_0px_rgba(0,217,163,0.3)] relative"
                    id="automatisation-form"
                >
                    <!-- Corner boxes -->
                    <div class="absolute -top-1.5 -left-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>
                    <div class="absolute -top-1.5 -right-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>
                    <div class="absolute -bottom-1.5 -left-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>
                    <div class="absolute -bottom-1.5 -right-1.5 w-3 h-3 bg-[var(--blue)] border-2 border-black"></div>

                    <h3 class="text-xl font-bold mb-6 text-center">Parlons de vos tâches répétitives</h3>

                    <!-- Hidden fields for Web3Forms -->
                    <input type="hidden" name="access_key" value="2964b7b3-2e2d-454b-a792-967518d5788b">
                    <input type="hidden" name="subject" value="Demande automatisation tâches - Jon Labs">
                    <input type="hidden" name="from_name" value="Jon Labs - Automatisation">
                    <input type="checkbox" name="botcheck" class="hidden" style="display: none;">

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Nom -->
                        <div class="form-field">
                            <label for="name" class="flex items-center gap-2 text-sm font-medium mb-2">
                                <span class="font-mono text-xs text-gray-400">01</span>
                                Nom / Prénom <span class="text-red-500">*</span>
                            </label>
                            <input
                                type="text"
                                id="name"
                                name="name"
                                required
                                placeholder="Jean Dupont"
                                class="w-full px-4 py-3 border-2 border-black bg-white text-lg placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-[var(--blue)] focus:ring-offset-2 transition-all"
                            />
                        </div>

                        <!-- Email -->
                        <div class="form-field">
                            <label for="email" class="flex items-center gap-2 text-sm font-medium mb-2">
                                <span class="font-mono text-xs text-gray-400">02</span>
                                Email <span class="text-red-500">*</span>
                            </label>
                            <input
                                type="email"
                                id="email"
                                name="email"
                                required
                                placeholder="vous@exemple.ch"
                                class="w-full px-4 py-3 border-2 border-black bg-white text-lg placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-[var(--blue)] focus:ring-offset-2 transition-all"
                            />
                        </div>

                        <!-- Téléphone -->
                        <div class="form-field">
                            <label for="phone" class="flex items-center gap-2 text-sm font-medium mb-2">
                                <span class="font-mono text-xs text-gray-400">03</span>
                                Téléphone (optionnel)
                            </label>
                            <input
                                type="tel"
                                id="phone"
                                name="phone"
                                placeholder="+41 79 123 45 67"
                                class="w-full px-4 py-3 border-2 border-black bg-white text-lg placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-[var(--blue)] focus:ring-offset-2 transition-all"
                            />
                        </div>

                        <!-- Type de projet -->
                        <div class="form-field">
                            <label for="project-type" class="flex items-center gap-2 text-sm font-medium mb-2">
                                <span class="font-mono text-xs text-gray-400">04</span>
                                Type d'automatisation <span class="text-red-500">*</span>
                            </label>
                            <select
                                id="project-type"
                                name="project_type"
                                required
                                class="w-full px-4 py-3 border-2 border-black bg-white text-lg focus:outline-none focus:ring-2 focus:ring-[var(--blue)] focus:ring-offset-2 transition-all cursor-pointer"
                            >
                                <option value="" disabled selected>Choisir...</option>
                                {projectTypes.map((type) => (
                                    <option value={type.value}>{type.label}</option>
                                ))}
                            </select>
                        </div>

                        <!-- Message -->
                        <div class="form-field md:col-span-2">
                            <label for="message" class="flex items-center gap-2 text-sm font-medium mb-2">
                                <span class="font-mono text-xs text-gray-400">05</span>
                                Décrivez vos tâches répétitives <span class="text-red-500">*</span>
                            </label>
                            <textarea
                                id="message"
                                name="message"
                                rows="4"
                                required
                                placeholder="Quelles tâches vous prennent le plus de temps chaque semaine ? Qu'aimeriez-vous automatiser ?"
                                class="w-full px-4 py-3 border-2 border-black bg-white text-lg placeholder:text-gray-400 resize-none focus:outline-none focus:ring-2 focus:ring-[var(--blue)] focus:ring-offset-2 transition-all"
                            ></textarea>
                        </div>

                        <!-- Consent -->
                        <div class="form-field md:col-span-2">
                            <label class="flex items-start gap-3 cursor-pointer group">
                                <input
                                    type="checkbox"
                                    name="consent"
                                    required
                                    class="mt-1 w-5 h-5 border-2 border-black appearance-none cursor-pointer checked:bg-[var(--blue)] checked:border-black relative transition-all"
                                />
                                <span class="text-sm text-gray-600 group-hover:text-black transition-colors">
                                    Vos données sont utilisées uniquement pour répondre à votre demande. Pas de spam, promis. <span class="text-red-500">*</span>
                                </span>
                            </label>
                        </div>

                        <!-- Submit -->
                        <div class="md:col-span-2 pt-4">
                            <button
                                type="submit"
                                class="
                                    submit-btn
                                    w-full
                                    bg-[var(--blue)]
                                    border-2 border-black
                                    px-8 py-4
                                    text-lg font-bold
                                    shadow-[4px_4px_0px_rgba(0,0,0,1)]
                                    transition-all duration-200
                                    hover:bg-[var(--yellow)]
                                    hover:shadow-[2px_2px_0px_rgba(0,0,0,1)]
                                    hover:translate-x-[2px] hover:translate-y-[2px]
                                    focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2
                                    flex items-center justify-center gap-3
                                "
                            >
                                <span>Réserver un appel découverte</span>
                                <i class="ri-send-plane-line text-xl"></i>
                            </button>
                        </div>
                    </div>
                </form>

                <!-- Post-form content -->
                <div class="bg-[var(--main-bg)]/90 backdrop-blur-sm p-6 mt-8">
                    <!-- Trust indicators -->
                    <div class="flex flex-wrap justify-center gap-6 text-sm text-gray-600">
                        <span class="flex items-center gap-2">
                            <i class="ri-time-line text-[var(--blue)]"></i>
                            Réponse sous 24h
                        </span>
                        <span class="flex items-center gap-2">
                            <i class="ri-gift-line text-[var(--blue)]"></i>
                            Premier échange gratuit
                        </span>
                        <span class="flex items-center gap-2">
                            <i class="ri-file-list-3-line text-[var(--blue)]"></i>
                            ROI calculé ensemble
                        </span>
                    </div>

                    <!-- Alternatives -->
                    <div class="text-center mt-8 space-y-4">
                        <p class="text-gray-500 text-sm">Vous préférez réserver un créneau directement ?</p>
                        <a
                            href="https://cal.com/jonathan-vouilloz/appel-de-bienvenue"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="inline-flex items-center gap-2 text-[var(--blue)] font-medium hover:underline"
                        >
                            <i class="ri-calendar-line"></i>
                            Réserver un appel découverte
                        </a>
                    </div>

                    <!-- Direct contact -->
                    <div class="text-center mt-6">
                        <p class="text-gray-500 text-sm mb-2">Besoin d'une réponse rapide ?</p>
                        <a href="mailto:contact@jonlabs.ch" class="text-[var(--blue)] font-mono hover:underline">
                            contact@jonlabs.ch
                        </a>
                    </div>

                    <!-- Not ready yet -->
                    <div class="text-center mt-8 p-4 bg-white border-2 border-dashed border-gray-300">
                        <p class="text-gray-500 text-sm">
                            <strong>Pas encore prêt ?</strong> Découvrez comment <a href="/services/integration-outils/" class="text-[var(--blue)] hover:underline">vos outils peuvent travailler ensemble</a> ou explorez les <a href="/services/" class="text-[var(--blue)] hover:underline">autres services</a>.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <Footer />
</Layout>

<style>
    /* Dot pattern background */
    .dots-bg {
        background-image: radial-gradient(circle, #000 1px, transparent 1px);
        background-size: 24px 24px;
    }

    /* FAQ animations */
    .faq-item[data-open="true"] .faq-icon {
        transform: rotate(45deg);
        background-color: var(--blue);
    }

    /* H1 SEO style terminal */
    .seo-h1 {
        font-family: 'JetBrains Mono', 'Space Grotesk', monospace;
        font-size: 0.75rem;
        font-weight: 400;
        color: rgba(15, 15, 15, 0.5);
        letter-spacing: 0.05em;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    @media (min-width: 1024px) {
        .seo-h1 {
            justify-content: center;
        }
    }

    /* Custom checkbox checkmark */
    input[type="checkbox"]:checked::after {
        content: '';
        position: absolute;
        left: 5px;
        top: 1px;
        width: 6px;
        height: 12px;
        border: solid black;
        border-width: 0 2px 2px 0;
        transform: rotate(45deg);
    }

    /* Submit button loading state */
    .submit-btn.loading {
        pointer-events: none;
        opacity: 0.7;
    }

    .submit-btn.loading i {
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    /* Scroll margin for anchor navigation */
    section[id] {
        scroll-margin-top: 100px;
    }
</style>

<script>
    // FAQ accordion logic
    const faqItems = document.querySelectorAll('[data-faq-item]');

    faqItems.forEach(item => {
        const trigger = item.querySelector('[data-faq-trigger]');
        const content = item.querySelector('[data-faq-content]') as HTMLElement;

        trigger?.addEventListener('click', () => {
            const isOpen = item.getAttribute('data-open') === 'true';

            // Close all other items
            faqItems.forEach(otherItem => {
                if (otherItem !== item) {
                    otherItem.setAttribute('data-open', 'false');
                    const otherContent = otherItem.querySelector('[data-faq-content]') as HTMLElement;
                    const otherTrigger = otherItem.querySelector('[data-faq-trigger]');
                    if (otherContent) otherContent.style.maxHeight = '0';
                    otherTrigger?.setAttribute('aria-expanded', 'false');
                }
            });

            // Toggle current item
            if (isOpen) {
                item.setAttribute('data-open', 'false');
                if (content) content.style.maxHeight = '0';
                trigger.setAttribute('aria-expanded', 'false');
            } else {
                item.setAttribute('data-open', 'true');
                if (content) content.style.maxHeight = content.scrollHeight + 'px';
                trigger.setAttribute('aria-expanded', 'true');
            }
        });
    });

    // Form submission with Web3Forms
    const form = document.getElementById('automatisation-form') as HTMLFormElement;
    const submitBtn = form?.querySelector('.submit-btn');

    form?.addEventListener('submit', async (e) => {
        e.preventDefault();

        if (!submitBtn) return;

        // Add loading state
        submitBtn.classList.add('loading');
        const originalContent = submitBtn.innerHTML;
        submitBtn.innerHTML = '<span>Envoi en cours...</span><i class="ri-loader-4-line text-xl"></i>';

        try {
            const formData = new FormData(form);
            const response = await fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                body: formData
            });

            const data = await response.json();

            if (data.success) {
                // Success state
                submitBtn.innerHTML = '<span>Message envoyé !</span><i class="ri-check-line text-xl"></i>';
                submitBtn.classList.remove('loading');

                // Reset form after delay
                setTimeout(() => {
                    form.reset();
                    submitBtn.innerHTML = originalContent;
                }, 3000);
            } else {
                throw new Error('Erreur lors de l\'envoi');
            }
        } catch (error) {
            // Error state
            submitBtn.innerHTML = '<span>Erreur, réessayez</span><i class="ri-error-warning-line text-xl"></i>';
            submitBtn.classList.remove('loading');

            setTimeout(() => {
                submitBtn.innerHTML = originalContent;
            }, 3000);
        }
    });
</script>
